6dfd28599a17d4ba4bda4a25b508a153
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MonthSelection = void 0;

var tslib_1 = _interopRequireWildcard(require("tslib"));

var _moment = _interopRequireDefault(require("moment"));

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _model = require("../../shared/model");

var _MonthSelection = require("./MonthSelection.styles");

var MonthAsString;

(function (MonthAsString) {
  MonthAsString["January"] = "January";
  MonthAsString["February"] = "February";
  MonthAsString["March"] = "March";
  MonthAsString["April"] = "April";
  MonthAsString["May"] = "May";
  MonthAsString["June"] = "June";
  MonthAsString["July"] = "July";
  MonthAsString["August"] = "August";
  MonthAsString["September"] = "September";
  MonthAsString["October"] = "October";
  MonthAsString["November"] = "November";
  MonthAsString["December"] = "December";
})(MonthAsString || (MonthAsString = {}));

var MonthSelection = function (_super) {
  tslib_1.__extends(MonthSelection, _super);

  function MonthSelection(props) {
    var _this = _super.call(this, props) || this;

    _this.allMonths = [MonthAsString.January, MonthAsString.February, MonthAsString.March, MonthAsString.April, MonthAsString.May, MonthAsString.June, MonthAsString.July, MonthAsString.August, MonthAsString.September, MonthAsString.October, MonthAsString.November, MonthAsString.December];

    _this.onMonthChange = function (month, year) {
      if (_this.props.onMonthChange) {
        _this.props.onMonthChange(month, year);
      }
    };

    _this.handlePreviousButtonPress = function () {
      var _a = _this.state,
          currentMonth = _a.currentMonth,
          currentYear = _a.currentYear;

      if (currentMonth > 0) {
        currentMonth -= 1;
      } else {
        currentYear -= 1;
        currentMonth = _model.Month.December;
      }

      _this.setState({
        currentMonth: currentMonth,
        currentYear: currentYear
      });

      _this.onMonthChange(currentMonth, currentYear);
    };

    _this.handleNextButtonPress = function () {
      var _a = _this.state,
          currentMonth = _a.currentMonth,
          currentYear = _a.currentYear;

      if (currentMonth < _this.allMonths.length - 1) {
        currentMonth += 1;
      } else {
        currentYear += 1;
        currentMonth = _model.Month.January;
      }

      _this.setState({
        currentMonth: currentMonth,
        currentYear: currentYear
      });

      _this.onMonthChange(currentMonth, currentYear);
    };

    _this.state = {
      currentMonth: props.currentMonth || _model.Month.January,
      currentYear: props.currentYear || (0, _moment.default)().year()
    };
    return _this;
  }

  MonthSelection.prototype.render = function () {
    var title = this.allMonths[this.state.currentMonth] + " " + this.state.currentYear;
    return React.createElement(_reactNative.View, {
      style: _MonthSelection.styles.container
    }, React.createElement(_reactNative.TouchableHighlight, {
      onPress: this.handlePreviousButtonPress,
      accessibilityLabel: "button-month-prev",
      style: [_MonthSelection.styles.containerButton, _MonthSelection.styles.containerButtonLeft]
    }, React.createElement(_reactNative.Image, {
      source: require("./asset/arrow-back.png"),
      resizeMode: "center",
      style: _MonthSelection.styles.button
    })), React.createElement(_reactNative.View, {
      style: _MonthSelection.styles.containerTitle
    }, React.createElement(_reactNative.Text, {
      style: _MonthSelection.styles.title
    }, title)), React.createElement(_reactNative.TouchableHighlight, {
      onPress: this.handleNextButtonPress,
      accessibilityLabel: "button-month-next",
      style: [_MonthSelection.styles.containerButton, _MonthSelection.styles.containerButtonRight]
    }, React.createElement(_reactNative.Image, {
      source: require("./asset/arrow-forward.png"),
      resizeMode: "center",
      style: _MonthSelection.styles.button
    })));
  };

  return MonthSelection;
}(React.Component);

exports.MonthSelection = MonthSelection;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha3VybmFkaS9Qcm9qZWN0cy9yZWFjdC1uYXRpdmUtc2NoZWR1bGVyL2xpYnJhcnkvQ2FsZW5kYXJNb250aC9Nb250aFNlbGVjdGlvbi9Nb250aFNlbGVjdGlvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFLLGFBQUw7O0FBQUEsQ0FBQSxVQUFLLGFBQUwsRUFBa0I7QUFDZCxFQUFBLGFBQUEsQ0FBQSxTQUFBLENBQUEsR0FBQSxTQUFBO0FBQ0EsRUFBQSxhQUFBLENBQUEsVUFBQSxDQUFBLEdBQUEsVUFBQTtBQUNBLEVBQUEsYUFBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBLE9BQUE7QUFDQSxFQUFBLGFBQUEsQ0FBQSxPQUFBLENBQUEsR0FBQSxPQUFBO0FBQ0EsRUFBQSxhQUFBLENBQUEsS0FBQSxDQUFBLEdBQUEsS0FBQTtBQUNBLEVBQUEsYUFBQSxDQUFBLE1BQUEsQ0FBQSxHQUFBLE1BQUE7QUFDQSxFQUFBLGFBQUEsQ0FBQSxNQUFBLENBQUEsR0FBQSxNQUFBO0FBQ0EsRUFBQSxhQUFBLENBQUEsUUFBQSxDQUFBLEdBQUEsUUFBQTtBQUNBLEVBQUEsYUFBQSxDQUFBLFdBQUEsQ0FBQSxHQUFBLFdBQUE7QUFDQSxFQUFBLGFBQUEsQ0FBQSxTQUFBLENBQUEsR0FBQSxTQUFBO0FBQ0EsRUFBQSxhQUFBLENBQUEsVUFBQSxDQUFBLEdBQUEsVUFBQTtBQUNBLEVBQUEsYUFBQSxDQUFBLFVBQUEsQ0FBQSxHQUFBLFVBQUE7QUFDSCxDQWJELEVBQUssYUFBYSxLQUFiLGFBQWEsR0FBQSxFQUFBLENBQWxCOztBQTBCQSxJQUFBLGNBQUEsR0FBQSxVQUFBLE1BQUEsRUFBQTtBQUFvQyxFQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUEsY0FBQSxFQUFBLE1BQUE7O0FBTWhDLFdBQUEsY0FBQSxDQUFZLEtBQVosRUFBc0M7QUFBdEMsUUFBQSxLQUFBLEdBQ0ksTUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLEVBQU0sS0FBTixLQUFZLElBRGhCOztBQUxRLElBQUEsS0FBQSxDQUFBLFNBQUEsR0FBNkIsQ0FBQyxhQUFhLENBQUMsT0FBZixFQUF3QixhQUFhLENBQUMsUUFBdEMsRUFDakMsYUFBYSxDQUFDLEtBRG1CLEVBQ1osYUFBYSxDQUFDLEtBREYsRUFDUyxhQUFhLENBQUMsR0FEdkIsRUFFakMsYUFBYSxDQUFDLElBRm1CLEVBRWIsYUFBYSxDQUFDLElBRkQsRUFFTyxhQUFhLENBQUMsTUFGckIsRUFHakMsYUFBYSxDQUFDLFNBSG1CLEVBR1IsYUFBYSxDQUFDLE9BSE4sRUFHZSxhQUFhLENBQUMsUUFIN0IsRUFHdUMsYUFBYSxDQUFDLFFBSHJELENBQTdCOztBQTRDQSxJQUFBLEtBQUEsQ0FBQSxhQUFBLEdBQWdCLFVBQUMsS0FBRCxFQUFlLElBQWYsRUFBMkI7QUFDL0MsVUFBSSxLQUFJLENBQUMsS0FBTCxDQUFXLGFBQWYsRUFBOEI7QUFDMUIsUUFBQSxLQUFJLENBQUMsS0FBTCxDQUFXLGFBQVgsQ0FBeUIsS0FBekIsRUFBZ0MsSUFBaEM7QUFDSDtBQUNKLEtBSk87O0FBTUEsSUFBQSxLQUFBLENBQUEseUJBQUEsR0FBNEIsWUFBQTtBQUM1QixVQUFBLEVBQUEsR0FBQSxLQUFBLENBQUEsS0FBQTtBQUFBLFVBQUUsWUFBQSxHQUFBLEVBQUEsQ0FBQSxZQUFGO0FBQUEsVUFBZ0IsV0FBQSxHQUFBLEVBQUEsQ0FBQSxXQUFoQjs7QUFDSixVQUFJLFlBQVksR0FBRyxDQUFuQixFQUFzQjtBQUNsQixRQUFBLFlBQVksSUFBSSxDQUFoQjtBQUNILE9BRkQsTUFFTztBQUNILFFBQUEsV0FBVyxJQUFJLENBQWY7QUFDQSxRQUFBLFlBQVksR0FBRyxhQUFNLFFBQXJCO0FBQ0g7O0FBRUQsTUFBQSxLQUFJLENBQUMsUUFBTCxDQUFjO0FBQ1YsUUFBQSxZQUFZLEVBQUEsWUFERjtBQUVWLFFBQUEsV0FBVyxFQUFBO0FBRkQsT0FBZDs7QUFLQSxNQUFBLEtBQUksQ0FBQyxhQUFMLENBQW1CLFlBQW5CLEVBQWlDLFdBQWpDO0FBQ0gsS0FmTzs7QUFpQkEsSUFBQSxLQUFBLENBQUEscUJBQUEsR0FBd0IsWUFBQTtBQUN4QixVQUFBLEVBQUEsR0FBQSxLQUFBLENBQUEsS0FBQTtBQUFBLFVBQUUsWUFBQSxHQUFBLEVBQUEsQ0FBQSxZQUFGO0FBQUEsVUFBZ0IsV0FBQSxHQUFBLEVBQUEsQ0FBQSxXQUFoQjs7QUFDSixVQUFJLFlBQVksR0FBRyxLQUFJLENBQUMsU0FBTCxDQUFlLE1BQWYsR0FBd0IsQ0FBM0MsRUFBOEM7QUFDMUMsUUFBQSxZQUFZLElBQUksQ0FBaEI7QUFDSCxPQUZELE1BRU87QUFDSCxRQUFBLFdBQVcsSUFBSSxDQUFmO0FBQ0EsUUFBQSxZQUFZLEdBQUcsYUFBTSxPQUFyQjtBQUNIOztBQUVELE1BQUEsS0FBSSxDQUFDLFFBQUwsQ0FBYztBQUNWLFFBQUEsWUFBWSxFQUFBLFlBREY7QUFFVixRQUFBLFdBQVcsRUFBQTtBQUZELE9BQWQ7O0FBS0EsTUFBQSxLQUFJLENBQUMsYUFBTCxDQUFtQixZQUFuQixFQUFpQyxXQUFqQztBQUNILEtBZk87O0FBNURKLElBQUEsS0FBSSxDQUFDLEtBQUwsR0FBYTtBQUNULE1BQUEsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFOLElBQXNCLGFBQU0sT0FEakM7QUFFVCxNQUFBLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBTixJQUFxQix1QkFBUyxJQUFUO0FBRnpCLEtBQWI7O0FBSUg7O0FBRUQsRUFBQSxjQUFBLENBQUEsU0FBQSxDQUFBLE1BQUEsR0FBQSxZQUFBO0FBQ0ksUUFBTSxLQUFLLEdBQU0sS0FBSyxTQUFMLENBQWUsS0FBSyxLQUFMLENBQVcsWUFBMUIsSUFBdUMsR0FBdkMsR0FBMkMsS0FBSyxLQUFMLENBQVcsV0FBdkU7QUFDQSxXQUNJLG9CQUFDLGlCQUFEO0FBQU0sTUFBQSxLQUFLLEVBQUUsdUJBQU87QUFBcEIsT0FDSSxvQkFBQywrQkFBRDtBQUNJLE1BQUEsT0FBTyxFQUFFLEtBQUsseUJBRGxCO0FBRUksTUFBQSxrQkFBa0IsRUFBRSxtQkFGeEI7QUFHSSxNQUFBLEtBQUssRUFBRSxDQUFDLHVCQUFPLGVBQVIsRUFBeUIsdUJBQU8sbUJBQWhDO0FBSFgsT0FLSSxvQkFBQyxrQkFBRDtBQUNJLE1BQUEsTUFBTSxFQUFFLE9BQU8sMEJBRG5CO0FBQytDLE1BQUEsVUFBVSxFQUFFLFFBRDNEO0FBRUksTUFBQSxLQUFLLEVBQUUsdUJBQU87QUFGbEIsTUFMSixDQURKLEVBV0ksb0JBQUMsaUJBQUQ7QUFBTSxNQUFBLEtBQUssRUFBRSx1QkFBTztBQUFwQixPQUNJLG9CQUFDLGlCQUFEO0FBQU0sTUFBQSxLQUFLLEVBQUUsdUJBQU87QUFBcEIsT0FBNEIsS0FBNUIsQ0FESixDQVhKLEVBY0ksb0JBQUMsK0JBQUQ7QUFDSSxNQUFBLE9BQU8sRUFBRSxLQUFLLHFCQURsQjtBQUVJLE1BQUEsa0JBQWtCLEVBQUUsbUJBRnhCO0FBR0ksTUFBQSxLQUFLLEVBQUUsQ0FBQyx1QkFBTyxlQUFSLEVBQXlCLHVCQUFPLG9CQUFoQztBQUhYLE9BS0ksb0JBQUMsa0JBQUQ7QUFDSSxNQUFBLE1BQU0sRUFBRSxPQUFPLDZCQURuQjtBQUNrRCxNQUFBLFVBQVUsRUFBRSxRQUQ5RDtBQUVJLE1BQUEsS0FBSyxFQUFFLHVCQUFPO0FBRmxCLE1BTEosQ0FkSixDQURKO0FBMkJILEdBN0JEOztBQXNFSixTQUFBLGNBQUE7QUFBQyxDQXBGRCxDQUFvQyxlQUFwQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgSW1hZ2UsIFRleHQsIFRvdWNoYWJsZUhpZ2hsaWdodCwgVmlldyB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IHsgTW9udGggfSBmcm9tIFwiLi4vLi4vc2hhcmVkL21vZGVsXCJcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gXCIuL01vbnRoU2VsZWN0aW9uLnN0eWxlc1wiXG5cbmVudW0gTW9udGhBc1N0cmluZyB7XG4gICAgSmFudWFyeSA9IFwiSmFudWFyeVwiLFxuICAgIEZlYnJ1YXJ5ID0gXCJGZWJydWFyeVwiLFxuICAgIE1hcmNoID0gXCJNYXJjaFwiLFxuICAgIEFwcmlsID0gXCJBcHJpbFwiLFxuICAgIE1heSA9IFwiTWF5XCIsXG4gICAgSnVuZSA9IFwiSnVuZVwiLFxuICAgIEp1bHkgPSBcIkp1bHlcIixcbiAgICBBdWd1c3QgPSBcIkF1Z3VzdFwiLFxuICAgIFNlcHRlbWJlciA9IFwiU2VwdGVtYmVyXCIsXG4gICAgT2N0b2JlciA9IFwiT2N0b2JlclwiLFxuICAgIE5vdmVtYmVyID0gXCJOb3ZlbWJlclwiLFxuICAgIERlY2VtYmVyID0gXCJEZWNlbWJlclwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9udGhTZWxlY3Rpb25Qcm9wcyB7XG4gICAgb25Nb250aENoYW5nZT86IChtb250aDogTW9udGgsIHllYXI6IG51bWJlcikgPT4gdm9pZFxuICAgIGN1cnJlbnRZZWFyPzogbnVtYmVyXG4gICAgY3VycmVudE1vbnRoPzogTW9udGhcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb250aFNlbGVjdGlvblN0YXRlIHtcbiAgICBjdXJyZW50TW9udGg6IE1vbnRoXG4gICAgY3VycmVudFllYXI6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgTW9udGhTZWxlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQ8TW9udGhTZWxlY3Rpb25Qcm9wcywgTW9udGhTZWxlY3Rpb25TdGF0ZT4ge1xuICAgIHByaXZhdGUgYWxsTW9udGhzOiBNb250aEFzU3RyaW5nW10gPSBbTW9udGhBc1N0cmluZy5KYW51YXJ5LCBNb250aEFzU3RyaW5nLkZlYnJ1YXJ5LFxuICAgICAgICBNb250aEFzU3RyaW5nLk1hcmNoLCBNb250aEFzU3RyaW5nLkFwcmlsLCBNb250aEFzU3RyaW5nLk1heSxcbiAgICAgICAgTW9udGhBc1N0cmluZy5KdW5lLCBNb250aEFzU3RyaW5nLkp1bHksIE1vbnRoQXNTdHJpbmcuQXVndXN0LFxuICAgICAgICBNb250aEFzU3RyaW5nLlNlcHRlbWJlciwgTW9udGhBc1N0cmluZy5PY3RvYmVyLCBNb250aEFzU3RyaW5nLk5vdmVtYmVyLCBNb250aEFzU3RyaW5nLkRlY2VtYmVyXVxuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IE1vbnRoU2VsZWN0aW9uUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyZW50TW9udGg6IHByb3BzLmN1cnJlbnRNb250aCB8fCBNb250aC5KYW51YXJ5LFxuICAgICAgICAgICAgY3VycmVudFllYXI6IHByb3BzLmN1cnJlbnRZZWFyIHx8IG1vbWVudCgpLnllYXIoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGAke3RoaXMuYWxsTW9udGhzW3RoaXMuc3RhdGUuY3VycmVudE1vbnRoXX0gJHt0aGlzLnN0YXRlLmN1cnJlbnRZZWFyfWBcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgICAgICAgICAgIDxUb3VjaGFibGVIaWdobGlnaHRcbiAgICAgICAgICAgICAgICAgICAgb25QcmVzcz17dGhpcy5oYW5kbGVQcmV2aW91c0J1dHRvblByZXNzfVxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e1wiYnV0dG9uLW1vbnRoLXByZXZcIn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyQnV0dG9uLCBzdHlsZXMuY29udGFpbmVyQnV0dG9uTGVmdF19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZT17cmVxdWlyZShcIi4vYXNzZXQvYXJyb3ctYmFjay5wbmdcIil9IHJlc2l6ZU1vZGU9e1wiY2VudGVyXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLmJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L1RvdWNoYWJsZUhpZ2hsaWdodD5cbiAgICAgICAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lclRpdGxlfT5cbiAgICAgICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy50aXRsZX0+e3RpdGxlfTwvVGV4dD5cbiAgICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICAgICAgPFRvdWNoYWJsZUhpZ2hsaWdodFxuICAgICAgICAgICAgICAgICAgICBvblByZXNzPXt0aGlzLmhhbmRsZU5leHRCdXR0b25QcmVzc31cbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtcImJ1dHRvbi1tb250aC1uZXh0XCJ9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmNvbnRhaW5lckJ1dHRvbiwgc3R5bGVzLmNvbnRhaW5lckJ1dHRvblJpZ2h0XX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlPXtyZXF1aXJlKFwiLi9hc3NldC9hcnJvdy1mb3J3YXJkLnBuZ1wiKX0gcmVzaXplTW9kZT17XCJjZW50ZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvVG91Y2hhYmxlSGlnaGxpZ2h0PlxuICAgICAgICAgICAgPC9WaWV3ID5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb250aENoYW5nZSA9IChtb250aDogTW9udGgsIHllYXI6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UobW9udGgsIHllYXIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVByZXZpb3VzQnV0dG9uUHJlc3MgPSAoKSA9PiB7XG4gICAgICAgIGxldCB7IGN1cnJlbnRNb250aCwgY3VycmVudFllYXIgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgaWYgKGN1cnJlbnRNb250aCA+IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnRNb250aCAtPSAxXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50WWVhciAtPSAxXG4gICAgICAgICAgICBjdXJyZW50TW9udGggPSBNb250aC5EZWNlbWJlclxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50TW9udGgsXG4gICAgICAgICAgICBjdXJyZW50WWVhclxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMub25Nb250aENoYW5nZShjdXJyZW50TW9udGgsIGN1cnJlbnRZZWFyKVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTmV4dEJ1dHRvblByZXNzID0gKCkgPT4ge1xuICAgICAgICBsZXQgeyBjdXJyZW50TW9udGgsIGN1cnJlbnRZZWFyIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGlmIChjdXJyZW50TW9udGggPCB0aGlzLmFsbE1vbnRocy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjdXJyZW50TW9udGggKz0gMVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFllYXIgKz0gMVxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gTW9udGguSmFudWFyeVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50TW9udGgsXG4gICAgICAgICAgICBjdXJyZW50WWVhclxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMub25Nb250aENoYW5nZShjdXJyZW50TW9udGgsIGN1cnJlbnRZZWFyKVxuICAgIH1cbn1cbiJdfQ==