import * as tslib_1 from "tslib";
import moment from "moment";
import * as React from "react";
import { Component } from "react";
import { Image, Text, TouchableHighlight, View } from "react-native";
import { Month } from "../../shared/model";
import { styles } from "./MonthSelection.styles";
var MonthAsString;
(function (MonthAsString) {
    MonthAsString["January"] = "January";
    MonthAsString["February"] = "February";
    MonthAsString["March"] = "March";
    MonthAsString["April"] = "April";
    MonthAsString["May"] = "May";
    MonthAsString["June"] = "June";
    MonthAsString["July"] = "July";
    MonthAsString["August"] = "August";
    MonthAsString["September"] = "September";
    MonthAsString["October"] = "October";
    MonthAsString["November"] = "November";
    MonthAsString["December"] = "December";
})(MonthAsString || (MonthAsString = {}));
var MonthSelection = /** @class */ (function (_super) {
    tslib_1.__extends(MonthSelection, _super);
    function MonthSelection(props) {
        var _this = _super.call(this, props) || this;
        _this.allMonths = [MonthAsString.January, MonthAsString.February,
            MonthAsString.March, MonthAsString.April, MonthAsString.May,
            MonthAsString.June, MonthAsString.July, MonthAsString.August,
            MonthAsString.September, MonthAsString.October, MonthAsString.November, MonthAsString.December];
        _this.onMonthChange = function (month, year) {
            if (_this.props.onMonthChange) {
                _this.props.onMonthChange(month, year);
            }
        };
        _this.handlePreviousButtonPress = function () {
            var _a = _this.state, currentMonth = _a.currentMonth, currentYear = _a.currentYear;
            if (currentMonth > 0) {
                currentMonth -= 1;
            }
            else {
                currentYear -= 1;
                currentMonth = Month.December;
            }
            _this.setState({
                currentMonth: currentMonth,
                currentYear: currentYear
            });
            _this.onMonthChange(currentMonth, currentYear);
        };
        _this.handleNextButtonPress = function () {
            var _a = _this.state, currentMonth = _a.currentMonth, currentYear = _a.currentYear;
            if (currentMonth < _this.allMonths.length - 1) {
                currentMonth += 1;
            }
            else {
                currentYear += 1;
                currentMonth = Month.January;
            }
            _this.setState({
                currentMonth: currentMonth,
                currentYear: currentYear
            });
            _this.onMonthChange(currentMonth, currentYear);
        };
        _this.state = {
            currentMonth: props.currentMonth || Month.January,
            currentYear: props.currentYear || moment().year()
        };
        return _this;
    }
    MonthSelection.prototype.render = function () {
        var title = this.allMonths[this.state.currentMonth] + " " + this.state.currentYear;
        return (<View style={styles.container}>
                <TouchableHighlight onPress={this.handlePreviousButtonPress} accessibilityLabel={"button-month-prev"} style={[styles.containerButton, styles.containerButtonLeft]}>
                    <Image source={require("./asset/arrow-back.png")} resizeMode={"center"} style={styles.button}/>
                </TouchableHighlight>
                <View style={styles.containerTitle}>
                    <Text style={styles.title}>{title}</Text>
                </View>
                <TouchableHighlight onPress={this.handleNextButtonPress} accessibilityLabel={"button-month-next"} style={[styles.containerButton, styles.containerButtonRight]}>
                    <Image source={require("./asset/arrow-forward.png")} resizeMode={"center"} style={styles.button}/>
                </TouchableHighlight>
            </View>);
    };
    return MonthSelection;
}(Component));
export { MonthSelection };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2FrdXJuYWRpL1Byb2plY3RzL3JlYWN0LW5hdGl2ZS1zY2hlZHVsZXIvbGlicmFyeS9DYWxlbmRhck1vbnRoL01vbnRoU2VsZWN0aW9uL01vbnRoU2VsZWN0aW9uLnRzeCIsIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxNQUFNLE1BQU0sUUFBUSxDQUFBO0FBQzNCLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBQzlCLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxPQUFPLENBQUE7QUFDakMsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBQ3BFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUMxQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0seUJBQXlCLENBQUE7QUFFaEQsSUFBSyxhQWFKO0FBYkQsV0FBSyxhQUFhO0lBQ2Qsb0NBQW1CLENBQUE7SUFDbkIsc0NBQXFCLENBQUE7SUFDckIsZ0NBQWUsQ0FBQTtJQUNmLGdDQUFlLENBQUE7SUFDZiw0QkFBVyxDQUFBO0lBQ1gsOEJBQWEsQ0FBQTtJQUNiLDhCQUFhLENBQUE7SUFDYixrQ0FBaUIsQ0FBQTtJQUNqQix3Q0FBdUIsQ0FBQTtJQUN2QixvQ0FBbUIsQ0FBQTtJQUNuQixzQ0FBcUIsQ0FBQTtJQUNyQixzQ0FBcUIsQ0FBQTtBQUN6QixDQUFDLEVBYkksYUFBYSxLQUFiLGFBQWEsUUFhakI7QUFhRDtJQUFvQywwQ0FBbUQ7SUFNbkYsd0JBQVksS0FBMEI7UUFBdEMsWUFDSSxrQkFBTSxLQUFLLENBQUMsU0FLZjtRQVhPLGVBQVMsR0FBb0IsQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxRQUFRO1lBQy9FLGFBQWEsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsR0FBRztZQUMzRCxhQUFhLENBQUMsSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJLEVBQUUsYUFB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Q0FBQyxFQUFFLElBQUksQ0FDNUM7Z0JBQUEsRUFBRSxJQUFJLENBQ047Z0JBQUEsQ0FBQyxrQkFBa0IsQ0FDZixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FDcEMsa0JBQWtCLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUN4QyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FFN0Q7b0JBQUEsQ0FBQyxLQUFLLENBQ0YsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FDbkUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUU3QjtnQkFBQSxFQUFFLGtCQUFrQixDQUN4QjtZQUFBLEVBQUUsSUFBSSxDQUFFLENBQ1gsQ0FBQTtJQUNMLENBQUM7SUF5Q0wscUJBQUM7QUFBRCxDQUFDLEFBcEZELENBQW9DLFNBQVMsR0FvRjVDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha3VybmFkaS9Qcm9qZWN0cy9yZWFjdC1uYXRpdmUtc2NoZWR1bGVyL2xpYnJhcnkvQ2FsZW5kYXJNb250aC9Nb250aFNlbGVjdGlvbi9Nb250aFNlbGVjdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgSW1hZ2UsIFRleHQsIFRvdWNoYWJsZUhpZ2hsaWdodCwgVmlldyB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IHsgTW9udGggfSBmcm9tIFwiLi4vLi4vc2hhcmVkL21vZGVsXCJcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gXCIuL01vbnRoU2VsZWN0aW9uLnN0eWxlc1wiXG5cbmVudW0gTW9udGhBc1N0cmluZyB7XG4gICAgSmFudWFyeSA9IFwiSmFudWFyeVwiLFxuICAgIEZlYnJ1YXJ5ID0gXCJGZWJydWFyeVwiLFxuICAgIE1hcmNoID0gXCJNYXJjaFwiLFxuICAgIEFwcmlsID0gXCJBcHJpbFwiLFxuICAgIE1heSA9IFwiTWF5XCIsXG4gICAgSnVuZSA9IFwiSnVuZVwiLFxuICAgIEp1bHkgPSBcIkp1bHlcIixcbiAgICBBdWd1c3QgPSBcIkF1Z3VzdFwiLFxuICAgIFNlcHRlbWJlciA9IFwiU2VwdGVtYmVyXCIsXG4gICAgT2N0b2JlciA9IFwiT2N0b2JlclwiLFxuICAgIE5vdmVtYmVyID0gXCJOb3ZlbWJlclwiLFxuICAgIERlY2VtYmVyID0gXCJEZWNlbWJlclwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9udGhTZWxlY3Rpb25Qcm9wcyB7XG4gICAgb25Nb250aENoYW5nZT86IChtb250aDogTW9udGgsIHllYXI6IG51bWJlcikgPT4gdm9pZFxuICAgIGN1cnJlbnRZZWFyPzogbnVtYmVyXG4gICAgY3VycmVudE1vbnRoPzogTW9udGhcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb250aFNlbGVjdGlvblN0YXRlIHtcbiAgICBjdXJyZW50TW9udGg6IE1vbnRoXG4gICAgY3VycmVudFllYXI6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgTW9udGhTZWxlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQ8TW9udGhTZWxlY3Rpb25Qcm9wcywgTW9udGhTZWxlY3Rpb25TdGF0ZT4ge1xuICAgIHByaXZhdGUgYWxsTW9udGhzOiBNb250aEFzU3RyaW5nW10gPSBbTW9udGhBc1N0cmluZy5KYW51YXJ5LCBNb250aEFzU3RyaW5nLkZlYnJ1YXJ5LFxuICAgICAgICBNb250aEFzU3RyaW5nLk1hcmNoLCBNb250aEFzU3RyaW5nLkFwcmlsLCBNb250aEFzU3RyaW5nLk1heSxcbiAgICAgICAgTW9udGhBc1N0cmluZy5KdW5lLCBNb250aEFzU3RyaW5nLkp1bHksIE1vbnRoQXNTdHJpbmcuQXVndXN0LFxuICAgICAgICBNb250aEFzU3RyaW5nLlNlcHRlbWJlciwgTW9udGhBc1N0cmluZy5PY3RvYmVyLCBNb250aEFzU3RyaW5nLk5vdmVtYmVyLCBNb250aEFzU3RyaW5nLkRlY2VtYmVyXVxuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IE1vbnRoU2VsZWN0aW9uUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyZW50TW9udGg6IHByb3BzLmN1cnJlbnRNb250aCB8fCBNb250aC5KYW51YXJ5LFxuICAgICAgICAgICAgY3VycmVudFllYXI6IHByb3BzLmN1cnJlbnRZZWFyIHx8IG1vbWVudCgpLnllYXIoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGAke3RoaXMuYWxsTW9udGhzW3RoaXMuc3RhdGUuY3VycmVudE1vbnRoXX0gJHt0aGlzLnN0YXRlLmN1cnJlbnRZZWFyfWBcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgICAgICAgICAgIDxUb3VjaGFibGVIaWdobGlnaHRcbiAgICAgICAgICAgICAgICAgICAgb25QcmVzcz17dGhpcy5oYW5kbGVQcmV2aW91c0J1dHRvblByZXNzfVxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e1wiYnV0dG9uLW1vbnRoLXByZXZcIn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyQnV0dG9uLCBzdHlsZXMuY29udGFpbmVyQnV0dG9uTGVmdF19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZT17cmVxdWlyZShcIi4vYXNzZXQvYXJyb3ctYmFjay5wbmdcIil9IHJlc2l6ZU1vZGU9e1wiY2VudGVyXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLmJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L1RvdWNoYWJsZUhpZ2hsaWdodD5cbiAgICAgICAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lclRpdGxlfT5cbiAgICAgICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy50aXRsZX0+e3RpdGxlfTwvVGV4dD5cbiAgICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICAgICAgPFRvdWNoYWJsZUhpZ2hsaWdodFxuICAgICAgICAgICAgICAgICAgICBvblByZXNzPXt0aGlzLmhhbmRsZU5leHRCdXR0b25QcmVzc31cbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtcImJ1dHRvbi1tb250aC1uZXh0XCJ9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmNvbnRhaW5lckJ1dHRvbiwgc3R5bGVzLmNvbnRhaW5lckJ1dHRvblJpZ2h0XX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlPXtyZXF1aXJlKFwiLi9hc3NldC9hcnJvdy1mb3J3YXJkLnBuZ1wiKX0gcmVzaXplTW9kZT17XCJjZW50ZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvVG91Y2hhYmxlSGlnaGxpZ2h0PlxuICAgICAgICAgICAgPC9WaWV3ID5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb250aENoYW5nZSA9IChtb250aDogTW9udGgsIHllYXI6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk1vbnRoQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTW9udGhDaGFuZ2UobW9udGgsIHllYXIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVByZXZpb3VzQnV0dG9uUHJlc3MgPSAoKSA9PiB7XG4gICAgICAgIGxldCB7IGN1cnJlbnRNb250aCwgY3VycmVudFllYXIgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgaWYgKGN1cnJlbnRNb250aCA+IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnRNb250aCAtPSAxXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50WWVhciAtPSAxXG4gICAgICAgICAgICBjdXJyZW50TW9udGggPSBNb250aC5EZWNlbWJlclxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50TW9udGgsXG4gICAgICAgICAgICBjdXJyZW50WWVhclxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMub25Nb250aENoYW5nZShjdXJyZW50TW9udGgsIGN1cnJlbnRZZWFyKVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTmV4dEJ1dHRvblByZXNzID0gKCkgPT4ge1xuICAgICAgICBsZXQgeyBjdXJyZW50TW9udGgsIGN1cnJlbnRZZWFyIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGlmIChjdXJyZW50TW9udGggPCB0aGlzLmFsbE1vbnRocy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjdXJyZW50TW9udGggKz0gMVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFllYXIgKz0gMVxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gTW9udGguSmFudWFyeVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50TW9udGgsXG4gICAgICAgICAgICBjdXJyZW50WWVhclxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMub25Nb250aENoYW5nZShjdXJyZW50TW9udGgsIGN1cnJlbnRZZWFyKVxuICAgIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==